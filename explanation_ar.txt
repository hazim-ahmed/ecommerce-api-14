
ما الذي قمنا بفعله للتعلم واختبار المشروع؟

1. **تحليل هيكل المشروع (Project Structure Analysis):**
   - قمنا بدراسة جميع ملفات المتحكمات (Controllers) والنماذج (Models) الموجودة في المجلدات `controllers` و `models`.
   - هدفنا كان فهم "التبعية" (Dependencies) بين البيانات. على سبيل المثال، لا يمكننا إنشاء "طلب" (Order) بدون وجود "مستخدم" (User) و"منتج" (Product) و"عنوان" (Address) أولاً.

2. **إصلاح النواقص في `server.js`:**
   - أثناء المراجعة، اكتشفنا أن بعض الملفات الخاصة بالمسارات (Routes) تم إنشاؤها ولكن لم يتم استدعاؤها في الملف الرئيسي `server.js`.
   - قمنا بإضافة الأسطر الناقصة:
     - `app.use('/api', require('./routes/AddressRoute'))`
     - `app.use('/api', require('./routes/CouponUsageRoute'))`
   - هذا الإصلاح كان ضرورياً لكي يستجيب السيرفر لجميع الطلبات.

3. **بناء سكربت الاختبار الآلي (`test_controllers.js`):**
   - بدلاً من اختبار كل رابط يدوياً باستخدام Postman (وهو أمر مرهق ويأخذ وقتاً طويلاً)، قمنا بكتابة سكربت برمجي يقوم بذلك نيابة عنا.
   - **آلية عمل السكربت:**
     1. يبدأ بإنشاء البيانات الأساسية (مستخدم، مدينة، فئة متجر).
     2. "يحفظ" المُعرفات (IDs) التي تعود من قاعدة البيانات.
     3. يستخدم هذه المُعرفات في الخطوات التالية (مثلاً: يستخدم ID المستخدم الذي تم إنشاؤه لإنشاء عنوان له).
   - هذا يعلمنا كيفية التعامل مع العمليات غير المتزامنة (Async/Await) وتسلسل العمليات (Sequential Operations) في Node.js.

4. **تسجيل النتائج (Logging):**
   - قمنا ببرمجة السكربت ليقوم بحفظ كل ما يفعله (البيانات التي أرسلها والرد الذي استقبله) في ملف نصي `test_results.txt`.
   - هذا يساعدنا في المراجعة (Debugging) والتأكد من صحة البيانات.

---

### كيفية تشغيل الاختبار مرة أخرى:

1. تأكد من أن السيرفر يعمل حالياً. إذا لم يكن يعمل، افتح تيرمينال جديد واكتب:
   ```bash
   npm start
   ```

2. افتح تيرمينال آخر (أو نفس التيرمينال إذا كنت تستخدم `npm start` في الخلفية) واكتب الأمر التالي لتشغيل سكربت الاختبار:
   ```bash
   node test_controllers.js
   ```

3. ستظهر النتائج مباشرة في التيرمينال، وسيتم تحديث ملف `test_results.txt` بالبيانات الجديدة.
